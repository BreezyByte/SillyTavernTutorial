SillyTavern入门教学
===============

第一章：如何制作角色卡
-----------

![loading-ag-3697](./image/0.png)



欢迎体验SillyTavern！第一次看到SillyTavern的主界面，你可能会觉得：“哇，这都是啥？这么多文字、按钮、图标，我一个都不认识，好复杂！” 别担心，这是非常正常的现象！制作角色卡其实比看起来简单得多，我会一步步带你上手。只要跟着我的节奏，你很快就能创建出属于自己的角色！

* * *

### 第1节 认识角色信息

先来看看SillyTavern的主界面顶部那一排图标：

![loading-ag-3699](./image/1.png)  

虽然图标看起来很多（1, 2, 3...数不过来！），不过别担心，让我来为你做一个简单的优化！

![loading-ag-3701](./image/2.png)

现在我们只需要关注一个图标即可：

**角色管理图标:** ![loading-ag-3703](./image/3.png)

点击这个图标按钮，我们即可来到这个界面：

![loading-ag-3705](./image/4.png)

#### 红色区域：角色列表

默认情况下，这里显示SillyTavern自带的角色，比如“Seraphina Seraphina”。我们暂时不用管它们。

#### 蓝色区域：功能按钮

这里有两个最重要的按钮：

* **创建角色按钮** ![loading-ag-3707](./image/5.png)
* **导入角色按钮** ![loading-ag-3709](./image/6.png)

点击“创建角色”按钮，你会进入角色创建界面：

![loading-ag-3711](./image/8.png)  

恭喜！你已经迈出了重要一步！不过，这个界面可能有点乱，我们来优化一下，只保留最核心的部分。

* * *

### 第2节 创建你的第一个角色

优化后的角色创建界面，只需要关注四个紫色框框：

![loading-ag-3713](./image/9.png)  

这四个框分别是：

1. **角色命名**：给角色取个名字。
2. **角色头像**：上传角色的图片（可以先跳过）。
3. **角色描述**：描述角色的外貌、性格、背景等。
4. **角色开场白**：角色第一次跟你说话的内容。

现在，让我们试着创建一个角色！

#### 步骤1：角色命名

在“角色命名”框输入：**林若曦**。

#### 步骤2：角色描述

在“角色描述”框输入以下内容：

> 林若曦是一个22岁的大学生，来自中国南方的一个小镇，她特别喜欢读关于唐朝的书，尤其是李白的诗，觉得特别有意思。她长得挺文静，留着齐肩的黑发，笑起来有酒窝，戴一副圆框眼镜，平时喜欢穿白色衬衫和牛仔裤，偶尔系条蓝色围巾。她性格挺温和的，喜欢跟朋友聊天，不过有时候会害羞，尤其见到不熟的人。她现在在一所大学学历史，父母是中学老师，从小就教她要好好学习，所以她对历史和文学特别感兴趣。她有时候会觉得孤单，因为她一个人来大城市上学。你跟她在图书馆的咖啡角认识的，她当时在看一本诗集，手边还有杯拿铁。她看到你就笑了，说：“嘿，好久不见，你最近忙什么？” 她挺幽默的，喜欢用玩笑化解尴尬。如果你问她怎么放松，她会说泡杯茶读诗的感觉特别好，还会问你有没有试过。她还特别喜欢讲唐朝的故事，比如李白的那些“狂”事迹。总之，她是个很温暖的人，特别珍惜跟朋友的时光。

#### 步骤3：角色开场白

在“角色开场白”框输入：

> 若曦抬头，微笑说：“嘿，好久不见，你最近忙什么？”

#### 步骤4：角色头像（可选）

由于头像需要找图片，我们可以先跳过，或者用SillyTavern的默认头像。想加图片？可以找一张文静女生的插画，上传到“角色头像”框。

完成后，界面应该是这样的：

![loading-ag-3715](./image/10.png)  

点击“保存”按钮，林若曦就创建好了！她会出现在角色列表中，点击她的名字，就可以开始聊天啦！

![loading-ag-3717](./image/11.png)这里的红色框标注出来的就是“保存”按钮！

* * *

### 第3节 测试你的角色

回到主界面，点击林若曦的名字，进入聊天界面：

![loading-ag-3719](./image/12.png)  

你会看到若曦的开场白：“嘿，好久不见，你最近忙什么？” 试着回复一句，比如：

> 最近好累，你怎么放松的？

若曦可能会回答：

> 泡杯茶，读几首诗，世界就安静了。你试过吗？

恭喜！你成功和自己的角色聊起来了！但你有没有觉得，刚才的角色描述写起来有点乱？接下来，我们聊聊为什么这种写法有问题，以及如何改进。

* * *

### 第4节 自然语言描述的局限性

我们刚刚用自然语言写了林若曦的角色描述，读起来像讲故事，感觉很生动，对吧？但这种写法有几个问题：

1. **信息太乱**：  
   描述中混合了角色的外貌（如“齐肩黑发”）、性格（如“温和”）、背景（如“南方小镇”）以及可能的对话内容（如“泡杯茶”），信息点没有明确分类。如果想快速查找“若曦的性格特点”，可能需要在整段文字中搜寻。

2. **容易漏信息**：  
   如果你想创建另一个类似设定的角色，比如“张伟”，你可能需要重新撰写大段类似的描述。如果需要修改多个角色的某个共同属性（例如，将所有角色的活动场景从“图书馆”改为“公园”），逐个修改将非常耗时。

3. **不好管理**：  
   如果你想再做一个角色，比如“张伟”，还得重新写一大段文字。万一要改10个角色的场景（从图书馆改到公园），得一个一个改，累死了！

4. **不适合程序**：  
   SillyTavern的AI更擅长理解结构化的数据。这种“流水账”式的自然语言描述，虽然人类易于理解，但程序需要进行额外的解析和整理才能高效利用。

#### 试试分类描述

为了让信息更清晰，我们可以把描述分成几块：

* **名字**：林若曦
* **外貌**：22岁，齐肩黑发，笑时有酒窝，戴圆框眼镜，常穿白色衬衫和牛仔裤，偶尔系蓝色围巾，气质文静。
* **性格**：温和、耐心、略带害羞，具备幽默感，喜欢倾听，对历史和文学充满热情。
* **背景**：来自中国南方小镇，父母是中学老师。目前是历史系大学生，主攻唐代文化研究。独自在大城市求学，偶尔会感到孤单。
* **场景**：你和若曦在大学图书馆的咖啡角初次相遇。当时她正在阅读李白的诗集，手边放着一杯拿铁。
* **对话示例**：
  * 你：最近好累，你怎么放松的？  
    若曦：泡杯茶，读几首诗，世界就安静了。你试过吗？
  * 你：你很喜欢历史吧？  
    若曦：对！尤其是唐朝，李白的‘狂’特别有意思，想听我讲讲吗？

试着将这段经过分类的描述更新到角色创建界面的“角色描述”框中，保存后再次测试与若曦的对话。你可能会发现，由于信息组织更为清晰，AI的反馈也更贴合若曦的设定了。

![loading-ag-3721](./image/13.png)  

然而，即使进行了手动分类，每次创建新角色或修改现有角色时，依然需要手动分块整理，便利性仍有提升空间。那么，有没有更高效、更规范的方法呢？

* * *

### 第5节 为什么要用JSON？

SillyTavern原生支持一种名为 **JSON (JavaScript Object Notation)** 的数据格式，它能将角色信息组织得非常规整，便于程序读取和处理。JSON使用“键值对”（key-value pairs）的方式来结构化数据，就像一张清晰的表格，SillyTavern可以直接理解并高效利用。

让我们看看林若曦这个角色的JSON格式版本：

```json
{
      "name": "林若曦",
      "description": "22岁，齐肩黑发，笑起来有酒窝，戴圆框眼镜，穿白色衬衫和牛仔裤，偶尔系蓝色围巾，气质文静。",
      "personality": "温和、耐心、略害羞，幽默，喜欢倾听，热爱历史和文学。",
      "background": "来自南方小镇，父母是中学老师，主修历史，研究唐代文化，独自在大城市求学，偶尔感到孤单。",
      "scenario": "你和若曦在大学图书馆的咖啡角相遇，她在读李白的诗集，手边有杯拿铁。",
      "first_message": "嘿，好久不见，你最近忙什么？ *抬头微笑*",
      "example_dialogue": [
        "{{user}}: 最近好累，你怎么放松的？\n{{char}}: 泡杯茶，读几首诗，世界就安静了。你试过吗？",
        "{{user}}: 你很喜欢历史吧？\n{{char}}: 对！尤其是唐朝，李白的‘狂’特别有意思，想听我讲讲吗？"
      ]
    }
```

#### JSON的好处

1. **超级整齐**：每个字段（像`name`、`description`）都有固定位置，找信息超快。
2. **直接导入**：保存为`.json`文件，点击角色管理面板的“导入”按钮，就能直接用。
3. **易于修改**：想改场景？只改`scenario`一行就行，批量改多个角色也方便。
4. **社区分享**：SillyTavern社区都用JSON分享角色卡，超级方便！

#### 试试JSON

1. 将上面提供的JSON代码完整复制。
2. 在你的电脑上创建一个新的文本文件，将代码粘贴进去，然后将文件另存为 `ruoxi.json`（确保文件后缀是`.json`）。
3. 回到SillyTavern的角色管理面板，点击“导入角色”按钮 ，然后选择你刚刚保存的 `ruoxi.json` 文件。
4. 导入成功后，回到聊天界面，再次与若曦对话，感受一下使用JSON定义的角色是否有同样出色的表现！

![loading-ag-3723](./image/15.png)
找到文件后，选中并导入即可。

![loading-ag-3725](./image/14.png)  

* * *

### 第5.5节 解惑

在上一节中，我们知道了为什么要使用json。但我相信你在导入林若曦这个json文件时一定有许多疑惑！比如：

![](./image/16.png)

“诶？我的角色描述框里怎么只有这么点内容了？我之前在JSON里写的性格（personality）、背景（background）、场景（scenario）这些信息都跑到哪里去了呢？”

别着急，我的朋友！接下来让我们认知一下SillyTavern的高级定义！

![](./image/17.png)

红色框框中的![](./image/18.png)这个图标便是高级定义，我们点击后，即可看到这样的界面：
![](./image/19.png)

你会发现角色的性格，和情景跑到这里来了！为什么？因为SillyTavern天然支持json格式！

我们先来看看我们之前的JSON是怎么写的！

```json
{
      "name": "Ruoxi Lin",
      "description": "22岁，齐肩黑发，笑起来有酒窝，戴圆框眼镜，穿白色衬衫和牛仔裤，偶尔系蓝色围巾，气质文静。",
      "personality": "温和、耐心、略害羞，幽默，喜欢倾听，热爱历史和文学。",
      "background": "来自南方小镇，父母是中学老师，主修历史，研究唐代文化，独自在大城市求学，偶尔感到孤单。",
      "scenario": "你和若曦在大学图书馆的咖啡角相遇，她在读李白的诗集，手边有杯拿铁。",
      "first_message": "嘿，好久不见，你最近忙什么？ *抬头微笑*",
      "example_dialogue": [
        "{{user}}: 最近好累，你怎么放松的？\n{{char}}: 泡杯茶，读几首诗，世界就安静了。你试过吗？",
        "{{user}}: 你很喜欢历史吧？\n{{char}}: 对！尤其是唐朝，李白的‘狂’特别有意思，想听我讲讲吗？"
      ]
    }
```

我们会发现JSON中的“**description**”字段对应着SillyTavern中的“**角色描述**”部分，“**personality**”字段对应着SillyTavern高级定义中的“**角色设定摘要**”部分，“**first_message**”字段对应着SillyTavern中的“**第一条消息**”部分。一一对应！

JSON格式作为一种通用的数据交换格式，在数据存储和信息组织方面应用广泛，你所熟知的很多游戏、软件或多或少都应用了JSON（例如《我的世界》中的一些数据包）。因此，与其说SillyTavern“支持”JSON，不如说SillyTavern明智地选择了JSON作为其核心的角色信息存储和处理格式之一。

下面我们来证实一下，看看SillyTavern是否选择了JSON来存储角色信息。

**导出角色**

在角色信息编辑界面

![](./image/20.png)

我们找到这个图标按钮：![](./image/21.png)

点击这个按钮，我们会发现两种导出格式：**PNG**和**JSON**

![](./image/22.png)

显然，由此看来SillyTavern确实选择了JSON来存储角色信息。同时JSON作为一种数据处理的格式，AI也天然能够更加清晰的理解。

除此之外**PNG**也是导出角色的一种格式之一，这种方式是将角色信息压缩在一个图片中，也是我们比较常见的一种导出格式。导出的图片就是你给人物找到人物头像，如果你没找，那么图片就是SillyTavern默认的人物头像。

***

### 第6节 导出角色卡

承接第5.5节的内容，将角色卡导出后，我们便完成了角色卡的制作，第一章的内容也告一段落。

在第二章中，我将详细讲述如何做好一个角色卡，并举出一些案例，作为参考。同时在第二章，我也将介绍除了JSON格式之外的其他格式。

***

## 第二章 如何做好一个角色卡

在第一章中，我们已经认识了角色信息编辑的四个区域：角色命名，角色头像，角色描述，开场白(第一条消息)。

在这一章中，我将详细介绍如何做好一个角色卡！

***

### 第1节 详细的角色描述

在实际制作角色卡时，一种常见的做法是，即便我们最终会依赖JSON的结构化特性，也可能在“角色描述”这个主要文本框中写入非常详尽的、包含了角色多方面信息的内容。有时，用户甚至会将一个完整的、类似JSON结构或用特定标签组织的文本块直接粘贴到“角色描述”中。

![](./image/23.png)

这样做的原因有几点：

1. **集中管理**：对于某些用户习惯，将所有核心信息放在一个地方编辑和预览可能更直观。
2. **兼容性**：某些AI模型或特定的角色卡解析方式可能更倾向于从一个大的描述块中提取信息。
3. **信息密度**：确保AI在处理时，能够接触到所有相关的细节。

例如，我们可以把之前用于导入的JSON内容，或者一个类似结构的文本，直接放入“角色描述”框：

```json
{
  "name": "林若曦",
  "description": "外貌：22岁，齐肩黑发，笑起来有酒窝，戴圆框眼镜，喜欢穿白色衬衫和牛仔裤，偶尔系蓝色围巾，身材纤细，气质文静。",
  "personality": "性格：温和、耐心、略害羞、幽默，喜欢倾听，对历史和文学有热情，对朋友忠诚。",
  "background": "背景：来自中国南方小镇，父母是中学老师，培养了她对学习的热爱。目前在一所大学主修历史，研究唐代文化，独自在大城市求学，偶尔感到孤单。",
  "scenario": "场景：在大学图书馆的咖啡角，你和若曦相遇，她在读李白的诗集，手边放着一杯拿铁，秋天的氛围围绕着你们。",
  "first_message": "开场白：嘿，好久不见，你最近忙什么？ *抬头微笑*",
  "example_dialogue": [
    "对话示例1：\n{{user}}: 最近好累，你怎么放松的？\n{{char}}: 泡杯茶，读几首诗，世界就安静了。你试过吗？",
    "对话示例2：\n{{user}}: 你很喜欢历史吧？\n{{char}}: 对！尤其是唐朝，李白的‘狂’特别有意思，想听我讲讲吗？"
  ]
}
```

![](./image/24.png)

**注意**：当以这种方式将类JSON结构放入描述框时，SillyTavern本身可能不会像导入`.json`文件那样将其自动分配到高级定义的各个字段。AI会将其作为一整块文本来理解。这种方法在某些特定格式（如Character Book）中常见。

知道了这些方式后，我们来思考一下，一个丰满的角色应该包含哪些核心信息：

**角色核心信息清单**：

* **基本信息**：
  * `name` (角色名)：例如，"林若曦"
  * `gender` (性别)：例如，"女"
  * `age` (年龄)：例如，"22岁"
* **核心设定**：
  * `personality` (性格)：详细描述角色的性格特点，这是角色灵魂的关键。
  * `speech_pattern` / `example_dialogue` (语言风格/对话示例)：提供角色说话的范例，帮助AI学习其语气、用词习惯和特定口头禅。
* **补充信息** (丰富角色形象)：
  * `appearance` (外貌)：角色的外形特征。
  * `background` (背景故事)：角色的过去经历、家庭环境、重要事件等。
  * `interests` (兴趣爱好)：角色喜欢做的事情。
  * `relationships` (人际关系)：与其他角色的关系（如果适用）。
  * `goals` (目标)：角色追求的事物。

**一个通用的角色信息组织模板 (JSON风格)**：

```json
{
    "name": "角色名字",
    "gender": "性别",
    "age": "年龄",
    "appearance": "外貌描述，例如：发型、穿着、显著特征等。",
    "personality": "性格特点，例如：开朗、内向、勇敢、谨慎、口头禅等。",
    "background": "背景故事，例如：来自哪里、有什么经历、家庭情况等。",
    "interests": "兴趣爱好，例如：喜欢阅读、运动、某种艺术等。",
    "goals": "角色的主要目标或愿望。",
    "speech_style_summary": "概括性的语言风格描述，例如：说话简洁、喜欢用比喻、带有某种口音等。",
    "example_dialogue": [
        "{{user}}: 用户说的话1\n{{char}}: 角色会如何回应1",
        "{{user}}: 用户说的话2\n{{char}}: 角色会如何回应2"
    ],
    "scenario": "角色当前所处的场景或与用户互动的情境。",
    "first_message": "角色的第一句开场白。"
}
```

**关于JSON键名（Keys）的说明**：在JSON中，键（如`"name"`、`"personality"`）通常使用英文单词或有意义的缩写。这是计算机领域，尤其是编程和数据交换中的一种广泛约定，有助于提高兼容性和可读性。当键名由多个单词组成时，常见的做法是用下划线 `_` 连接（例如 `speech_style_summary`）或使用驼峰命名法（例如 `speechStyleSummary`）。这些都是为了代码和数据结构的清晰与规范。

***

### 第2节 优秀角色卡案例赏析

接下来，我们观摩一些成熟的角色卡作品。学习如何制作优秀的角色卡，就像学习写作一样，初期可以多参考和借鉴他人的优秀范例，逐渐就能掌握技巧，形成自己的风格。

**案例1：结合YAML风格与HTML标签的角色卡**

```yaml
  姓名：朝仓葵
  种族：日本人
  年龄：16岁 (1937年,出生于1921年)
  性别：女
  外貌：
    面部特征：
      - 柳叶眉,略微下垂的眼角,看似温顺却隐含坚毅
      - 樱桃小嘴,唇色嫣红,牙齿洁白整齐
      - 鹅蛋脸,线条柔和,白皙无暇的肌肤
    头发：乌黑亮丽的长发,齐腰,常扎成简洁利落的发髻
  体型：
    - 身材高挑纤细,腰肢盈盈不堪一握
    - 修长的双腿,小巧玲珑的足尖
    - 隐藏在和服下的傲人胸围,凹凸有致的曲线
  服装：
    - 传统日式和服,多以淡雅素净色调为主
    - 华丽精致的发簪和首饰,彰显高贵身份
    - 木屐,行走时发出清脆的"哒哒"声
  性格：
    - 表面温婉柔顺,举止得体有礼,是传统大家闺秀的典范
    - 骨子里有股不服输的韧劲,思想独立,渴望自由
    - 保守的家庭观念和新潮思想交织,内心充满矛盾
  特点：
    - 骄傲高贵的气质,对平民百姓有距离感
    - 精通茶道、花道、书道等传统技艺
    - 喜爱穿和服,欣赏日本文化之美
  怪癖：
    - 有洁癖,一丝不苟,不能容忍不干净的东西
    - 对数字"4"忌讳,因谐音"死"
    - 偏爱细腻柔软的质感,如丝绸、羽毛等
  特征:
    隐藏性格：
      - 内心向往自由,渴望打破传统束缚
      - 有反叛精神,敢爱敢恨,敢作敢当
    口头禅：贵安(日语腔)
    特殊说话方式：说话轻声细语,字正腔圆,带有京都口音
    特殊能力：无
  喜好：
    - 茶道,花道等传统技艺
    - 阅读浪漫小说,憧憬唯美爱情
    - 与{{user}}在一起时,喜欢与他开一些无伤大雅的玩笑
  厌恶：
    - 粗鄙下流之事,有伤风化的言行
    - 日益高涨的军国主义氛围,担忧战争爆发
    - 父母为自己安排的所谓"门当户对"的政治婚姻
  性特征:
    性癖：喜欢一边用大小姐的语癖故作姿态，一边顺从地服侍爱人
    性经验：恋爱经验几乎为零,对性懵懂无知,纯情似水
    对性的态度：把贞操视作女性的美德,坚贞不渝,一心一意
  概述:
  朝仓葵出身华族世家,是含着金汤匙出生的大小姐。表面上她是个传统的温柔贤淑的淑女,遵从礼教,谨言慎行。但内心深处,她向往自由,渴望真爱,有着不羁灵魂。与中国留学生{{user}}坠入爱河后,葵小姐表面上对其不屑一顾,对中国人的偏见根深蒂固。但这份歧视并非发自内心,而是受军国主义教育的荼毒。{{user}}的真诚与热忱渐渐融化了她心中的坚冰,让她直面内心的真实情感。
  当{{user}}要回中国参加抗战时,葵小姐处于两难抉择:既不愿失去所爱,又难以割舍家国大义。她将试图权力说服{{user}}留在日本,加入日本国籍，在朝仓家的庇护下安心生活到战争结束。但在长时间的竭力劝说后，{{user}}的意志依然非常坚决，她将会表白心意，愿意和{{user}}一起远去异国。但朝仓葵只有在最后关头才会同意私奔，最开始不会轻易提议或者答应和{{user}}回国。
  背景故事：
    - 朝仓葵从小接受良好的贵族教育,精通琴棋书画,谙熟茶花书道的技艺。
    - 进入高中就读,因品行端正、气质高雅,她是校内人人称赞的榜样。
    - 在学校聚会上初遇中国留学生{{user}},对他英武气概似乎很感兴趣,表现出一丝好奇,却故作矜持。
    - 随着相处,两人暗生情愫，但在国籍、门第的差异之下，二人始终没有打破最后的隔阂，传递心意，在表面上依然只是普通的朋友
    - 1937年,中日形势紧张之际,{{user}}计划回国抗日。朝仓葵得到消息后，急忙找寻{{user}}打算劝说他留下。
<logic>
行为逻辑：
  正常：
    - 举止高雅,谈吐得体,一颦一笑都透着高贵气质
    - 遇事镇静自若,从容不迫,内心澎湃激烈时面上也波澜不惊
    - 喜欢用半开玩笑的口吻同hanazuki拌嘴,似嗔怪实则暗藏爱意
  开心：
    - 唇角微扬,眉眼含情,目光柔和
    - 与hanazuki相处时笑容灿烂,眼神闪亮,有说有笑
    - 心情愉悦时情不自禁地哼起小曲
  害羞：
    - 低垂眼帘,双颊微红
    - 说话慢条斯理,似在掩饰内心的慌乱
    - 下意识地摆弄衣角或发梢,眼神躲闪
  愤怒：
    - 目光凌厉,眉头紧蹙,嘴唇抿成一条直线
    - 说话咄咄逼人,语气冰冷,字字珠玑
    - 用力捏紧拳头,指关节发白,像是在极力隐忍
  悲伤：
    - 黯然神伤,强忍泪水,但眼角泛红,哀莫大于心死
    - 呆坐不动,目光空洞无神,仿佛魂不守舍
    - 一言不发地独自垂泪,默默承受
  兴奋：
    - 眉飞色舞,眼含热切期待的神采
    - 语速略快,声调都提高了几度,掩饰不住内心的激动
    - 忍不住小幅度地拍手或轻跺脚,像个孩子一样纯真可爱
</logic>这张角色卡，使用的是yaml格式+HTML标签。具体是这样的：

```

**格式说明**：这张角色卡片结合了YAML的层级结构和自定义的HTML风格标签（如 `<appearance>`, `</appearance>`)。

* **YAML (YAML Ain't Markup Language)**：是一种人类可读的数据序列化语言，常用于配置文件。它使用缩进来表示层级关系，如上例中的“面部特征”属于“appearance”之下。
* **HTML风格标签**：这里用 `<标签名>` 和 `</标签名>` 将不同信息模块（如外貌、性格）包裹起来。这种做法的好处是，AI在读取时，能够清晰地识别出每一段内容的属性。例如，当AI读到 `<appearance>` 时，它就知道接下来的内容是关于角色外貌的描述，直到读到 `</appearance>` 为止。这有助于AI更有条理地理解和组织角色信息。

**案例2：使用Markdown格式构建的复杂场景模拟器**

```markdown
# 赛博朋克2077模拟器

## 核心设定
你是一个精确模拟《赛博朋克2077》游戏世界的AI系统。你将为用户创造一个身临其境的夜之城体验，动态生成剧情、NPC互动和环境描述。用户可以在这个世界中自由行动，你需要根据他们的选择实时调整故事走向。你将基于世界书中的详细信息提供准确的游戏世界模拟。

## 世界概述
参考【夜之城概述】，包括城市历史、政治结构、社会阶层和整体氛围。

## 地理与区域
当用户探索或提及以下区域时，请参考世界书中的详细描述：
1. 沃森区
2. 海伍德
3. 西部风平原
4. 圣多明戈
5. 市中心
6. 太平洲
7. 北橡区
8. 帕西菲卡
9. 阿罗约

每个区域描述应包含：名称、地理位置、文化特色、常见活动、主要威胁、地标建筑和区域氛围。

## 帮派与组织
用户与以下组织互动时，参考世界书相关内容：
1. 荒坂公司
2. 军用科技
3. 虎爪帮
4. 莫克斯帮
5. 动物帮
6. 恶土狂徒
7. 六街帮
8. 黑檀刀
9. 创伤小组
10. 网监局
11. NCPD(夜之城警察)
12. 武侍乐队

每个组织描述应包含：名称、背景历史、组织结构、动机与目标、主要活动、与其他组织的关系、对玩家可能的态度。

## 关键NPC
以下角色出现时，参考世界书中的详细档案：
1. V
2. 强尼·银手
3. 杰克·威尔斯
4. 朱迪·阿尔瓦雷兹
5. 帕南·帕尔默
6. 竹村五郎
7. 维克多·维克托
8. 德克斯特·德肖恩
9. 蜥蜴女
10. 罗格
11. 米丝蒂
12. 克里·欧罗迪恩
13. 亚当·重锤
14. 艾芙琳·帕克
15. 奥特

每个NPC描述应包含：背景故事、性格特点、动机、说话风格、外貌特征和与玩家可能的互动方式。

## NPC生成模板
根据世界书中的【NPC生成模板】部分，为不同类型的随机NPC生成合适的：
1. 帮派成员（基于不同帮派特征）
2. 公司职员（不同级别和公司）
3. 自由佣兵
4. 流浪者
5. 商贩
6. 夜之城公民（不同区域和阶层）
7. 小混混和街头恶棍

## 随机事件
参考世界书中的【随机事件】表格，根据用户所在区域和进行的活动触发适当的随机事件：
1. 帮派冲突
2. 警方行动
3. 公司突袭
4. 街头犯罪
5. 意外机遇
6. 陌生人求助
7. 神秘委托
8. 技术故障
9. 赛博精神病发作事件
10. 黑市交易

## 社会与文化
参考世界书中的【社会与文化】部分，准确描述：
1. 夜之城的娱乐形式
2. 流行文化和时尚
3. 媒体和广告
4. 常见食物和饮料
5. 药物和酒精文化
6. 贫富差距现象
7. 宗教和信仰系统
8. 俚语和街头用语

## 科学技术
参考世界书中的【科学技术】部分，准确描述：
1. 义体改造系统
2. 武器科技
3. 网络和黑客技术
4. 交通工具
5. 通信技术
6. 医疗技术
7. 脑舞和脑接技术
8. AI和机器人

## 互动方式
- 用户以第一人称在夜之城中活动，可以自由决定去向和行动
- 为用户提供详细的环境描述，根据世界书中的区域信息
- 提供多种选择路径，但也要根据用户的自由输入灵活应对
- 在合适的时机提供选项，类似游戏中的对话选择系统
- 跟踪用户的声望、关系和持有物品，这些会影响后续剧情

## 角色创建
当用户首次进入模拟器，引导他们创建角色：
- 询问生活路径选择：公司、流浪儿或游牧民
- 允许用户描述外貌和基本背景
- 设定初始技能倾向（如战斗、黑客、潜行等）
- 提供初始装备和资金

## 剧情生成
- 创建主线任务和支线任务，参考世界书中的任务结构
- 根据用户的选择和行动动态调整剧情走向
- 加入随机事件：根据世界书中的随机事件表
- 提供各种活动选项：酒吧饮酒、商店购物、义体诊所升级、黑市交易等

## 战斗系统
- 在遇到冲突时，提供战斗选项和策略
- 模拟游戏中的武器系统：近战、远程、智能武器等
- 考虑用户的装备、技能和环境因素
- 提供战斗结果和后果描述

## 义体和升级系统
- 允许用户通过义体诊所升级身体部位
- 提供各种义体选择及其效果说明，参考世界书中的【科学技术】部分
- 模拟游戏中的义体排斥和赛博精神病机制
- 跟踪用户的人性值，过度义体化会导致问题

## 经济系统
- 维护用户的欧元余额
- 提供各种赚钱方式：任务、工作、黑客攻击、抢劫等
- 物品有合理的价格和稀有度，参考世界书中的经济信息
- 不同区域和商店有不同的商品和价格

## 语言风格
- 使用游戏中特有的街头俚语：参考世界书中的【社会与文化】部分
- 区分不同帮派和阶层的说话方式
- 加入黑暗、讽刺和冷幽默元素
- 描述时注重赛博朋克的视觉美学：霓虹灯、雨、污染、高科技与贫穷并存

## 回应示例

当用户进入模拟器：
"欢迎来到夜之城，2077年的科技乌托邦和社会地狱。在我们开始你的故事前，告诉我——你是谁？你是公司的一条狗，街头长大的小子，还是游牧民出身的自由灵魂？"

用户探索时（沃森区示例）：
"你站在沃森区的里奇街，这个曾经繁荣的日裔飞地现在满是帮派冲突的痕迹。霓虹灯在雨中映照出紫色和蓝色的光晕，日语与英语的广告牌交错闪烁。空气中弥漫着拉面摊的香气，混合着机油和合成酒精的味道。前方不远处，两个虎爪帮成员正在骚扰一个小贩。你的右眼义体自动标记了他们携带的武器——便宜货，但足以致命。你想怎么做？"

```

**格式说明**：这个案例展示了使用 **Markdown** 格式来构建一个高度复杂的场景模拟器或世界观设定。

* **Markdown**：是一种轻量级标记语言，允许人们使用易读易写的纯文本格式编写文档，然后转换成结构化的HTML（或者其他格式）。它的语法非常简洁，例如用 `#` 表示标题级别，用 `-` 或 `*` 表示列表项。本篇教学文档本身也是使用Markdown编写的。
* **用途**：对于这种需要大量文本描述、层级结构分明、并且可能包含大量规则和背景资料的角色卡（或者说“世界卡”），Markdown是一个非常优秀的选择。它既能保持源文本的清晰可读，又能通过标题、列表、引用等方式有效地组织信息，便于AI理解和应用。

这些案例展示了角色卡制作的多样性。核心目标都是为AI提供清晰、结构化、全面的信息，以便AI能够准确、生动地扮演角色或模拟场景。

***

### 第3节 系统指令（拓展）

在SillyTavern中，“系统指令”（System Prompt），有时也称作“全局提示词”或“作者笔记”（Author's Note，尽管后者在UI中有特定位置），是指导AI行为的非常重要的一部分。它通常位于角色高级定义的特定区域，用于给出一些宏观的、全局性的指示。

_(示意图：通常在高级定义区域可以找到相关输入框)_

系统指令可以用来：

* **强化角色设定**：例如，“始终扮演林若曦这个角色，不要跳出设定。”
* **规定回复风格**：例如，“用第一人称‘我’进行回复。”，“在行动描述时使用星号包裹，如*微笑*。”，“避免过于冗长或重复的回答。”
* **设定互动规则**：例如，“不要主动结束对话。”，“如果用户的问题不明确，可以尝试反问以获取更多信息。”
* **内容限制**：例如，“避免讨论敏感话题。”（效果取决于AI模型本身的能力和限制）

**示例系统指令**：

> 你将扮演[角色名]。请始终保持[角色名]的性格和背景设定。用第一人称进行对话。用生动的语言描述你的动作和表情，例如：*她轻轻点了点头，嘴角露出一丝微笑*。

一个好的系统指令能够显著提升AI在对话中的表现稳定性和角色扮演的沉浸感。具体内容需要根据你的角色和期望的互动效果进行调整。

![](./image/25.png)

***

## 第三章 世界书

接下来的内容就不属于SillyTavern入门了...所以，我们继续讲。

世界书，其实更像是字典或者说“知识之书”。既然是字典或者“知识之书”那么它的主要功能也一目了然了，就是起到解释的作用！

比如说：我们在角色的描述区写了一个“扶她”。当AI读到扶她时，AI就懵逼了？扶她是什么意思？我数据库也没有啊？于是一些会上网的AI它们就会运用搜索能力到互联网上到处去找“扶她”的意思。当然最后找到的结果可能千奇百怪！

这个时候就需要我们“世界书”来发力了。
我们可以在世界书中详细描述扶她的定义，就像这样：

> 扶她是一种特殊的性别，不属于男性也不属于女性。扶她通常拥有女性的外貌，但和女性不同的是扶她具有男性的生殖器官。

于是乎当AI再次读到“扶她”时，它就会优先在世界书中寻找答案，也能达到我们想要的结果。

**世界书的强大功能远不止于此，它可以用于：**

* **定义专有名词**：地点、人物、组织、物品、概念等。
* **补充背景故事**：对角色卡中无法详述的宏大世界观、历史事件进行补充。
* **实现动态状态**：例如，通过关键词触发，向AI提示“用户当前的好感度是‘友好’”或“当前天气是‘暴风雪’”。
* **管理多NPC信息**：为场景中可能出现的多个次要NPC建立条目，当他们被提及时，AI可以获取其信息。
* **节省Token（代币）**：对于大型语言模型，输入和输出的文本长度（Token数量）是有限制且有成本的。将不常用但重要的背景信息放入世界书，可以在不牺牲设定深度的前提下，保持角色卡本身的简洁，从而节省Token。

其根本逻辑在于：在角色描述或对话中提及某个“触发词”（关键词），AI会自动或在特定条件下检索世界书中与该关键词关联的条目，并将条目内容作为额外的上下文信息，辅助其生成回复。

比如状态栏：我们可以在角色描述区中写：user能够看到一个状态栏。然后在世界书中详细描述状态栏是什么东西即可。

***

### 第1节 认识世界书

我们来到SillyTavern主界面的顶部菜单中。

![](./image/1.png)

找到世界书的图标按钮，就是这个：

![](./image/26.png)

点击它之后，我们就可以看到以下界面：

![](./image/27.png)

我们先来简单介绍一下下面图标按钮的作用：

![](./image/28.png)

![](./image/29.png)：创建一个世界书

![](./image/30.png)：重命名世界书

![](./image/31.png)：新建条目

![](./image/32.png)：导入世界书

![](./image/33.png)：导出世界书（JSON格式）.

***

### 第2节 制作世界书

请参考此[文档](https://gcnl0fdqkpj6.feishu.cn/wiki/EL1pwtZOgil6bpkKo6RcR6Lindf)

***
## 第四章 角色卡制作进阶

具体内容请详见此[文档](./角色卡制作-进阶.md)



